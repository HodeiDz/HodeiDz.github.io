<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="Media/control_panel.svg">
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
    <title>Kontrol Panela | 5. ZINEMALDIA</title>
</head>

<body>
    <img src="Media/Hodei.png" alt="CrÃ©ditos" class="credits">
    
    <a href="index.html">
        <img src="Media/home.svg" alt="Inico" class="homelogin">
    </a> 

    <div class="container" style="width: fit-content;">  <!-- ! style="width: fit-content;"" -->
        <h1>Kontrol Panela</h1>

        <h2 style="height: 12px; font-size: 17px;">Pantailan</h2>

        <div class = "controlbuttons">
            <div>
            <button class="circlebutton" id="ppt-button" onclick="Displayed('ppt')"></button>
            <p style="margin-left: 10px; margin-right: 30px;">Aurkezpena</p>
            </div>

            <div>
            <button class="circlebutton" id="vid-button" onclick="Displayed('vid')"></button>
            <p style="margin-left: 10px; margin-right: 30px;">Videoak</p>
            </div>

        </div>

        <h3>Informazioa</h3>
        
        <div class="controlbuttons">
            <div>
                <button class="transparentbutton" onclick="reset('slide')">
                    <img id="reset1" src="Media/restart.svg" alt="restart">
                </button>
                
                <span id="slideid-display" style="font-size: 17px; color: #005FCC;"></span>
            </div> 

            <div style="display: flex; flex-direction:  row; ">
                <button class="transparentbutton" onclick="reset('video')">
                    <img id="reset2" src="Media/restart.svg" alt="restart">
                </button>
                <div >
                    <div>
                        <span id="prevPage-display" style="font-size: 12px; color: #5084be;"></span>
                    </div>

                    <div>
                        <span id="currentPage-display" style="margin-left: 10px; margin-right: 10px; font-size: 17px; color: #005FCC;"></span>
                    </div>

                    <div>
                        <span id="nextPage-display" style="font-size: 12px; color: #5084be ;"></span>
                    </div>
                    
                </div>

            </div>
        </div>

        <h2 style="height: 12px; font-size: 17px;">Aurkezpen orriak eta videoak</h2>
        
        <div class="controlbuttons">
            <div>
                <button class="imagebutton" onclick="prev()">Atzera
                    <img src="Media/arrow.svg" alt="Atzera">
                </button>
            </div>

            <div>
                <button class="imagebutton" onclick="next()"> Aurrera
                    <img src="Media/arrow.svg" style="transform: rotate(180deg)" alt="Aurrera"> 
                </button>
            </div>
        </div>

        <h2 id="vidTitle" style="height: 12px; font-size: 17px;">Videoak</h2>

        <div class="controlbuttons">
            <button id="vidFullscreen" class="imagebutton" onclick="fullscreen()">Pantaila osoa 
                <img src="Media/fullscreen.svg"  alt="fullscreen">
            </button>   
              
            <button id="vidMinimize" class="imagebutton" onclick="minimize()">Pantaila txikitu 
                <img src="Media/minimize.svg" alt="fullscreen exit">
            </button>
        </div>
        <p>funtzionamendu optimoa izateko Chrome erabili</p>
    </div>
</body>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        if (!localStorage.getItem('slideid')) {
            localStorage.setItem('slideid', '1');
        }

        const slideid = localStorage.getItem('slideid'); // set the current slide id in span
        document.getElementById('slideid-display').textContent = `Aurkezpen orria: ${slideid}`;

        if(localStorage.getItem('prevPage') == 'undefined'){
            document.getElementById('prevPage-display').textContent = `-`;
            console.log('DEBUG: prevPage is undefined, so -');
        } else {
            document.getElementById('prevPage-display').textContent = `${localStorage.getItem('prevPage')}`;
        }

        document.getElementById('currentPage-display').textContent = `${localStorage.getItem('currentPage')}`;
        document.getElementById('nextPage-display').textContent = `${localStorage.getItem('nextPage')}`;

        console.log('DEBUG: ' + localStorage.getItem('prevPage') + ' ; '+ localStorage.getItem('currentPage') + ' ; ' + localStorage.getItem('nextPage'));
        
        localStorage.setItem('Displayed', 'ppt');
        
        document.getElementById('ppt-button').classList.add('selected');
        document.getElementById('vid-button').classList.add('unselected');
        document.getElementById('reset2').classList.add('unabled');
        
        document.getElementById('vidTitle').style.color = 'gray';
        
        document.getElementById('prevPage-display').style.color  = 'gray';                               
        document.getElementById('currentPage-display').style.color  = 'gray';                               
        document.getElementById('nextPage-display').style.color  = 'gray';                               
        
        document.getElementById('vidFullscreen').classList.add('unabled'); // Pantaila osoa
        document.getElementById('vidMinimize').classList.add('unabled'); // Pantaila txikitu
        
    });    
</script>
</html>